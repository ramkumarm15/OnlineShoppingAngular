<div class="auth-fluid">
  <div class="auth-fluid-right text-center">
    <!-- <h1 class="welcomeText">Hi, Welcome back</h1> -->
    <span class="illustration">
      <img
        src="https://res.cloudinary.com/ramkumarm15/image/upload/v1666443267/auditmanagement/assets/images/illustration_dashboard_jtjh1d.png"
        alt="Illustration"
        class="img-fluid"
      />
    </span>
  </div>

  <div class="auth-fluid-form-box shadow-sm">
    <div class="formCard">
      <h3>Create your account</h3>
      <form
        class="form row"
        [formGroup]="registerForm"
        (ngSubmit)="formSubmit()"
      >
        <div class="col-md-6">
          <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>Username</mat-label>
              <input
                matInput
                placeholder="Hey, what's your username?"
                name="username"
                id="username"
                formControlName="username"
                required
                [ngClass]="{
                  'is-invalid':
                    registerForm.controls['username'].invalid &&
                    (registerForm.controls['username'].dirty ||
                      registerForm.controls['username'].touched),
                  'is-valid': registerForm.controls['username'].valid
                }"
              />
              <mat-error
                *ngIf="(registerForm.controls['username'].dirty || registerForm.controls['username'].touched || registerForm.invalid) && registerForm.controls['username'].errors?.['required']"
              >
                Username is required</mat-error
              >
              <mat-error
                *ngIf="(registerForm.controls['username'].dirty || registerForm.invalid) && registerForm.controls['username'].errors?.['minlength']"
              >
                Minimum length is 8 characters</mat-error
              >
            </mat-form-field>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <mat-form-field appearance="outline" class="passwordInput">
              <mat-label>Password</mat-label>
              <input
                [type]="passwordHide ? 'password' : 'text'"
                matInput
                placeholder="password?"
                name="password"
                id="password"
                formControlName="password"
                required
              />
              <button
                type="button"
                mat-icon-button
                matSuffix
                (click)="passwordHide = !passwordHide"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="passwordHide"
              >
                <mat-icon>{{
                  passwordHide ? "visibility_off" : "visibility"
                }}</mat-icon>
              </button>
              <mat-error
                *ngIf="(registerForm.controls['password'].dirty || registerForm.controls['password'].touched || registerForm.invalid) && registerForm.controls['password'].errors?.['required']"
              >
                Password is required</mat-error
              >
              <mat-error
                *ngIf="(registerForm.controls['password'].touched || registerForm.invalid)&& registerForm.controls['password'].errors?.['minlength']"
              >
                Minimum length is 8 characters</mat-error
              >
            </mat-form-field>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <mat-form-field appearance="outline" class="nameInput">
              <mat-label>Name</mat-label>
              <input
                type="text"
                matInput
                placeholder="Your name please?"
                name="name"
                id="name"
                formControlName="name"
                required
              />
              <mat-error
                *ngIf="(registerForm.controls['name'].dirty || registerForm.controls['name'].touched || registerForm.invalid) && registerForm.controls['name'].errors?.['required']"
              >
                Name is required</mat-error
              >
              <mat-error
                *ngIf="(registerForm.controls['name'].touched || registerForm.invalid)&& registerForm.controls['name'].errors?.['minlength']"
              >
                Minimum length is 8 characters</mat-error
              >
            </mat-form-field>
          </div>
        </div>

        <div class="col-md-6">
          <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>City</mat-label>
              <input
                matInput
                placeholder="Hey, what's your city name?"
                name="city"
                id="city"
                formControlName="city"
                required
                [ngClass]="{
                  'is-invalid':
                    registerForm.controls['city'].invalid &&
                    (registerForm.controls['city'].dirty ||
                      registerForm.controls['city'].touched),
                  'is-valid': registerForm.controls['city'].valid
                }"
              />
              <mat-error
                *ngIf="(registerForm.controls['city'].dirty || registerForm.controls['city'].touched || registerForm.invalid) && registerForm.controls['city'].errors?.['required']"
              >
                City is required</mat-error
              >
              <mat-error
                *ngIf="(registerForm.controls['city'].dirty || registerForm.invalid) && registerForm.controls['city'].errors?.['minlength']"
              >
                Minimum length is 8 characters</mat-error
              >
            </mat-form-field>
          </div>
        </div>
        <div class="col-md-12">
          <div class="form-group">
            <mat-form-field appearance="outline" class="emailAddressInput">
              <mat-label>Email Address</mat-label>
              <input
                type="email"
                matInput
                placeholder="Your email address?"
                name="emailAddress"
                id="emailAddress"
                formControlName="emailAddress"
                required
              />
              <mat-error
                *ngIf="(registerForm.controls['emailAddress'].dirty || registerForm.controls['emailAddress'].touched || registerForm.invalid) && registerForm.controls['emailAddress'].errors?.['required']"
              >
                Email Address is required</mat-error
              >
              <mat-error
                *ngIf="(registerForm.controls['emailAddress'].touched || registerForm.invalid)&& registerForm.controls['emailAddress'].errors?.['minlength']"
              >
                Minimum length is 8 characters</mat-error
              >
              <mat-error
                *ngIf="(registerForm.controls['emailAddress'].touched || registerForm.invalid)&& registerForm.controls['emailAddress'].errors?.['email']"
              >
                Format is incorrect</mat-error
              >
            </mat-form-field>
          </div>
        </div>
        <div class="col-12">
          <mat-form-field appearance="outline">
            <mat-label>About</mat-label>
            <textarea
              matInput
              name="about"
              id="about"
              formControlName="about"
              rows="10"
              cols="10"
              maxlength="200"
            ></textarea>
            <mat-error
              *ngIf="(registerForm.controls['about'].dirty || registerForm.controls['about'].touched || registerForm.invalid) && registerForm.controls['about'].errors?.['required']"
            >
              About is required
            </mat-error>
            <mat-error
              *ngIf="(registerForm.controls['about'].dirty || registerForm.invalid) && registerForm.controls['about'].errors?.['maxlength']"
            >
              Maximum length is 200 characters
            </mat-error>
            <mat-error
              *ngIf="(registerForm.controls['about'].dirty || registerForm.invalid) && registerForm.controls['about'].errors?.['minlength']"
            >
              Minimum length is 8 characters
            </mat-error>
            <mat-hint>Maximum 200 characters allowed</mat-hint>
          </mat-form-field>
        </div>
        <div class="col-12 mt-2">
          <div class="form-group">
            <button
              type="submit"
              mat-stroked-button
              class="btn btn-lg btn-block"
            >
              Create Account
            </button>
          </div>
        </div>
      </form>
      <div class="mb-3">
        <p>
          Already have an account?
          <a class="registerBtn" [routerLink]="['/login']">login</a>
        </p>
      </div>
    </div>
  </div>
</div>
